# ğŸ›ï¸ ARCHITECTURE - Task 3: Role Assumption

## ğŸ¯ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ğ¹ Ğ¾Ğ±Ğ·Ğ¾Ñ€

Task 3 Ğ´ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¼ĞµÑ…Ğ°Ğ½Ğ¸Ğ·Ğ¼ **Role Assumption** - Ñ„ÑƒĞ½Ğ´Ğ°Ğ¼ĞµĞ½Ñ‚Ğ°Ğ»ÑŒĞ½ÑƒÑ ĞºĞ¾Ğ½Ñ†ĞµĞ¿Ñ†Ğ¸Ñ AWS IAM Ğ´Ğ»Ñ Ğ´ĞµĞ»ĞµĞ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ°.

## ğŸ“ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ğµ Ğ´Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñ‹

### Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° 1: ĞĞ±Ñ‰Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   AWS Account: 615299729908                 â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Assume Role        â”‚         â”‚   ReadOnly Role      â”‚ â”‚
â”‚  â”‚  cmtr-4n6e9j62-      â”‚         â”‚  cmtr-4n6e9j62-      â”‚ â”‚
â”‚  â”‚  iam-ar-iam_role-    â”‚         â”‚  iam-ar-iam_role-    â”‚ â”‚
â”‚  â”‚  assume              â”‚         â”‚  readonly            â”‚ â”‚
â”‚  â”‚                      â”‚         â”‚                      â”‚ â”‚
â”‚  â”‚  Inline Policy:      â”‚         â”‚  Managed Policy:     â”‚ â”‚
â”‚  â”‚  âœ… sts:AssumeRole   â”‚â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚  âœ… ReadOnlyAccess   â”‚ â”‚
â”‚  â”‚                      â”‚         â”‚                      â”‚ â”‚
â”‚  â”‚                      â”‚         â”‚  Trust Policy:       â”‚ â”‚
â”‚  â”‚                      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  âœ… Allow assume roleâ”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° 2: ĞŸĞ¾Ñ‚Ğ¾Ğº Role Assumption

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Assume Role    â”‚
â”‚  (Initiator)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 1. Request: sts:AssumeRole
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AWS STS (Security Token        â”‚
â”‚  Service)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 2. Check: Inline Policy
         â”‚    "Can assume role perform sts:AssumeRole?"
         â”‚    âœ… YES
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ReadOnly Role                  â”‚
â”‚  (Target)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 3. Check: Trust Policy
         â”‚    "Can assume role assume me?"
         â”‚    âœ… YES
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STS Returns Temporary          â”‚
â”‚  Credentials                    â”‚
â”‚  - AccessKeyId                  â”‚
â”‚  - SecretAccessKey              â”‚
â”‚  - SessionToken                 â”‚
â”‚  - Expiration                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 4. Use temporary credentials
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AWS Services                   â”‚
â”‚  âœ… Read operations (allowed)   â”‚
â”‚  âŒ Write operations (denied)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° 3: ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Assume Role                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Inline Policy: AssumeReadOnlyRolePolicy                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ {                                                       â”‚ â”‚
â”‚  â”‚   "Effect": "Allow",                                    â”‚ â”‚
â”‚  â”‚   "Action": "sts:AssumeRole",                           â”‚ â”‚
â”‚  â”‚   "Resource": "arn:aws:iam::615299729908:role/...readonly" â”‚
â”‚  â”‚ }                                                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ AssumeRole request
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ReadOnly Role                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Trust Policy (WHO can assume)                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ {                                                       â”‚ â”‚
â”‚  â”‚   "Effect": "Allow",                                    â”‚ â”‚
â”‚  â”‚   "Principal": {                                        â”‚ â”‚
â”‚  â”‚     "AWS": "arn:aws:iam::615299729908:role/...assume"  â”‚ â”‚
â”‚  â”‚   },                                                    â”‚ â”‚
â”‚  â”‚   "Action": "sts:AssumeRole"                            â”‚ â”‚
â”‚  â”‚ }                                                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                               â”‚
â”‚  Managed Policy: ReadOnlyAccess (WHAT can do)                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ âœ… Read operations on all services                      â”‚ â”‚
â”‚  â”‚ âŒ Write operations (implicitDeny)                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” Policy Evaluation Flow

### Ğ”Ğ»Ñ sts:AssumeRole Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ:

```
1. Check Assume Role Inline Policy:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Action: sts:AssumeRole          â”‚
   â”‚ Resource: readonly role ARN     â”‚
   â”‚ Result: âœ… ALLOW                 â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2. Check ReadOnly Role Trust Policy:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Principal: assume role ARN      â”‚
   â”‚ Action: sts:AssumeRole          â”‚
   â”‚ Result: âœ… ALLOW                 â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

3. Final Decision: âœ… ALLOWED
```

### Ğ”Ğ»Ñ read/write Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¹ Ñ‡ĞµÑ€ĞµĞ· assumed role:

```
1. Check ReadOnlyAccess Policy:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Read actions: âœ… ALLOW           â”‚
   â”‚ Write actions: (no statement)   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2. Default: Implicit Deny
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Write actions: âŒ IMPLICIT DENY  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | Ğ¢Ğ¸Ğ¿ | ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ |
|-----------|-----|------------|
| Assume Role | IAM Role | ĞœĞ¾Ğ¶ĞµÑ‚ Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ñ‚ÑŒ Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ Ñ€Ğ¾Ğ»Ğ¸ |
| ReadOnly Role | IAM Role | Ğ¦ĞµĞ»ĞµĞ²Ğ°Ñ Ñ€Ğ¾Ğ»ÑŒ Ñ read-only Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ¾Ğ¼ |
| Inline Policy | Identity-based | Ğ Ğ°Ğ·Ñ€ĞµÑˆĞ°ĞµÑ‚ sts:AssumeRole |
| Trust Policy | Trust relationship | ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµÑ‚ WHO Ğ¼Ğ¾Ğ¶ĞµÑ‚ assume |
| ReadOnlyAccess | AWS Managed Policy | ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµÑ‚ WHAT Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ |

## ğŸ¯ Ğ¢Ñ€Ğ¸ ÑÑ‚Ğ¾Ğ»Ğ¿Ğ° ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸

### 1. Identity-based Policy (Inline)
```
WHO: Assume Role
WHAT: sts:AssumeRole
WHERE: ReadOnly Role ARN
```

### 2. Trust Policy
```
WHO: Assume Role (Principal)
CAN DO: AssumeRole action
ON: ReadOnly Role
```

### 3. Permissions Policy (Managed)
```
WHO: ReadOnly Role
WHAT: Read operations
WHERE: All services
```

## ğŸ’¡ ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ ĞºĞ¾Ğ½Ñ†ĞµĞ¿Ñ†Ğ¸Ğ¸

### Role Assumption
- **ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ:** ĞŸÑ€Ğ¾Ñ†ĞµÑÑ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ñ… credentials Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¹ Ñ€Ğ¾Ğ»Ğ¸
- **Ğ¡ĞµÑ€Ğ²Ğ¸Ñ:** AWS STS (Security Token Service)
- **Ğ”ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ:** `sts:AssumeRole`
- **Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:** Ğ’Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ credentials (AccessKeyId, SecretAccessKey, SessionToken)

### Trust Policy
- **ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ:** Policy, Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ÑÑÑ‰Ğ¸Ğ¹ ĞºÑ‚Ğ¾ Ğ¼Ğ¾Ğ¶ĞµÑ‚ assume Ñ€Ğ¾Ğ»ÑŒ
- **Ğ¢Ğ¸Ğ¿:** Trust relationship (Ğ½Ğµ identity-based Ğ¸ Ğ½Ğµ resource-based)
- **Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚:** JSON Ñ Principal Ğ¸ Action

### Temporary Credentials
- **Ğ¡Ñ€Ğ¾Ğº Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ:** ĞĞ°ÑÑ‚Ñ€Ğ°Ğ¸Ğ²Ğ°ĞµĞ¼Ñ‹Ğ¹ (Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ 1 Ñ‡Ğ°Ñ)
- **ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹:** AccessKeyId, SecretAccessKey, SessionToken
- **Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ:** ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ñ€Ğ¾Ñ‚Ğ°Ñ†Ğ¸Ñ, Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ½Ğ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ Ğ¶Ğ¸Ğ·Ğ½Ğ¸

## ğŸ”„ Ğ¡Ñ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ Ñ‚Ğ¸Ğ¿Ğ¾Ğ² policies

| Ğ¢Ğ¸Ğ¿ Policy | Ğ“Ğ´Ğµ Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑÑ | ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµÑ‚ |
|------------|---------------|------------|
| Identity-based (Inline) | ĞĞ° assume Ñ€Ğ¾Ğ»Ğ¸ | Ğ§Ñ‚Ğ¾ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ assume Ñ€Ğ¾Ğ»ÑŒ |
| Trust Policy | ĞĞ° readonly Ñ€Ğ¾Ğ»Ğ¸ | ĞšÑ‚Ğ¾ Ğ¼Ğ¾Ğ¶ĞµÑ‚ assume readonly Ñ€Ğ¾Ğ»ÑŒ |
| Permissions Policy | ĞĞ° readonly Ñ€Ğ¾Ğ»Ğ¸ | Ğ§Ñ‚Ğ¾ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ readonly Ñ€Ğ¾Ğ»ÑŒ |

## ğŸ›¡ï¸ Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ

### ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ° Role Assumption:

1. **Ğ’Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ credentials** - Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ñ€Ğ¾Ñ‚Ğ°Ñ†Ğ¸Ñ
2. **Least privilege** - Ğ¼Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ñ‹Ğµ Ğ¿Ñ€Ğ°Ğ²Ğ°
3. **ĞÑƒĞ´Ğ¸Ñ‚** - CloudTrail Ğ»Ğ¾Ğ³Ğ¸Ñ€ÑƒĞµÑ‚ Ğ²ÑĞµ assume Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸
4. **Ğ Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸** - Ñ€Ğ°Ğ·Ğ½Ñ‹Ğµ Ñ€Ğ¾Ğ»Ğ¸ Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ğ½Ñ‹Ñ… Ğ·Ğ°Ğ´Ğ°Ñ‡

### Best Practices:

- âœ… Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ MFA Ğ´Ğ»Ñ ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ñ‹Ñ… Ñ€Ğ¾Ğ»ĞµĞ¹
- âœ… ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡Ğ¸Ğ²Ğ°Ñ‚ÑŒ Ğ²Ñ€ĞµĞ¼Ñ ÑĞµÑÑĞ¸Ğ¸
- âœ… ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑÑ‚ÑŒ Ñ‡ĞµÑ€ĞµĞ· Policy Simulator
- âœ… ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ principals Ğ² trust policy

## ğŸ“ˆ Use Cases

1. **Cross-account access** - Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚Ğ°Ğ¼Ğ¸
2. **Service roles** - Ñ€Ğ¾Ğ»Ğ¸ Ğ´Ğ»Ñ AWS ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ² (Lambda, EC2)
3. **Federation** - SSO Ñ ĞºĞ¾Ñ€Ğ¿Ğ¾Ñ€Ğ°Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¼ IdP
4. **Temporary elevated access** - Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾Ğµ Ğ¿Ğ¾Ğ²Ñ‹ÑˆĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ°Ğ²

## ğŸ“ Ğ¡Ñ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ Ñ Task 1 Ğ¸ Task 2

| Task | Ğ¤Ğ¾ĞºÑƒÑ | Key Policy Type |
|------|-------|-----------------|
| Task 1 | Explicit Deny | Resource-based (Bucket Policy) |
| Task 2 | Inline + Implicit Deny | Identity-based (Inline Policy) |
| Task 3 | Role Assumption | Trust Policy + STS |

---

**Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ:** Ğ¡Ñ€ĞµĞ´Ğ½ÑÑ  
**ĞšĞ»ÑÑ‡ĞµĞ²Ğ°Ñ ĞºĞ¾Ğ½Ñ†ĞµĞ¿Ñ†Ğ¸Ñ:** Trust Policies Ğ¸ Role Assumption
